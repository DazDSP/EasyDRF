//New filter coefficients by Daz Man 2022 for PAPR processing

#ifndef _TRANSMITTERFILTER_H_
#define _TRANSMITTERFILTER_H_


/*

FIR filter designed with
http://t-filter.appspot.com

sampling frequency: 48000 Hz

* 0 Hz - 1300 Hz
  gain = 1
  desired ripple = 0.1 dB
  actual ripple = 0.06170731413565661 dB

* 6000 Hz - 24000 Hz
  gain = 0
  desired attenuation = -70 dB
  actual attenuation = -71.54641439599071 dB

*/

//48kHz to 12kHz decimation filter
#define FILTER_TAP_NUM1 37

static double filter_taps1[FILTER_TAP_NUM1] = {
  0.0003514915098491594,
  0.000554132206183611,
  0.000623022631651677,
  0.00017532874478187274,
  -0.0011472700539812643,
  -0.0035562299346506873,
  -0.006904472103277803,
  -0.010510828503339403,
  -0.013105741358098359,
  -0.012967564055991981,
  -0.008267186468331442,
  0.002435156035435673,
  0.019665281748753902,
  0.04264238009873923,
  0.06916804138858948,
  0.09588032684691972,
  0.11885000836638773,
  0.13439309903698904,
  0.13988990412544572,
  0.13439309903698904,
  0.11885000836638773,
  0.09588032684691972,
  0.06916804138858948,
  0.04264238009873923,
  0.019665281748753902,
  0.002435156035435673,
  -0.008267186468331442,
  -0.012967564055991981,
  -0.013105741358098359,
  -0.010510828503339403,
  -0.006904472103277803,
  -0.0035562299346506873,
  -0.0011472700539812643,
  0.00017532874478187274,
  0.000623022631651677,
  0.000554132206183611,
  0.0003514915098491594
};


//PAPR filters
/*

FIR filter designed with
http://t-filter.appspot.com

sampling frequency: 12000 Hz

* 0 Hz - 1250 Hz
  gain = 1
  desired ripple = 0.1 dB
  actual ripple = 0.0729223398037695 dB

* 1400 Hz - 6000 Hz
  gain = 0
  desired attenuation = -30 dB
  actual attenuation = -30.095949855747726 dB

*/
//OFDM sidelobes AND post clipper filter (coeffs are used for both)
#define FILTER_TAP_NUM3 149

static double filter_taps3[FILTER_TAP_NUM3] = {
  -0.006715585659826064,
  0.011545423061129954,
  0.0021615767025715614,
  -0.001989226818353579,
  -0.003101442224674509,
  -0.0024787484186230523,
  -0.0009766780804816016,
  0.0007227737854041841,
  0.0020039654613486636,
  0.002402762151678906,
  0.0017522170580888021,
  0.0002943915455580339,
  -0.001365883561998931,
  -0.002481625904329538,
  -0.0024907508243181197,
  -0.0013020034097059286,
  0.0006062461832660776,
  0.0023656798812264307,
  0.003108295241865667,
  0.0023911818171073345,
  0.0004483385459557223,
  -0.0018712159926710548,
  -0.0034663343186870565,
  -0.00349213932202487,
  -0.0017968750303495235,
  0.0009288534512859507,
  0.0034191158628017002,
  0.004424565143332162,
  0.0033382934888644637,
  0.0005231804097366652,
  -0.002791259440128505,
  -0.005012297919427622,
  -0.0049356366854077915,
  -0.00242303686607297,
  0.0014835362239415469,
  0.0050027057359861805,
  0.006358956294929912,
  0.004671884492241211,
  0.0005670279822200584,
  -0.004202311752470732,
  -0.007297117722968859,
  -0.007076572644834035,
  -0.003338870265591026,
  0.002385337853900831,
  0.007461431754608157,
  0.009322395290552133,
  0.006749462685852589,
  0.0005850423563356326,
  -0.006479983914270839,
  -0.011046519047696744,
  -0.01060363217130101,
  -0.00484428637247315,
  0.003960690024666924,
  0.011790251959425666,
  0.014648672697405355,
  0.010524921848696356,
  0.0006005487225536684,
  -0.01094346849364715,
  -0.01857699076320094,
  -0.017927335638620864,
  -0.008065218842171597,
  0.007547562463447639,
  0.02206197857177026,
  0.027971134495517726,
  0.020551940103710028,
  0.0006076645531100027,
  -0.0248090107307164,
  -0.0442708141555767,
  -0.045944876024725245,
  -0.02224639401786199,
  0.026563632314474103,
  0.09143035831964715,
  0.15672589280097993,
  0.20503820024078004,
  0.22282982957281608,
  0.20503820024078004,
  0.15672589280097993,
  0.09143035831964715,
  0.026563632314474103,
  -0.02224639401786199,
  -0.045944876024725245,
  -0.0442708141555767,
  -0.0248090107307164,
  0.0006076645531100027,
  0.020551940103710028,
  0.027971134495517726,
  0.02206197857177026,
  0.007547562463447639,
  -0.008065218842171597,
  -0.017927335638620864,
  -0.01857699076320094,
  -0.01094346849364715,
  0.0006005487225536684,
  0.010524921848696356,
  0.014648672697405355,
  0.011790251959425666,
  0.003960690024666924,
  -0.00484428637247315,
  -0.01060363217130101,
  -0.011046519047696744,
  -0.006479983914270839,
  0.0005850423563356326,
  0.006749462685852589,
  0.009322395290552133,
  0.007461431754608157,
  0.002385337853900831,
  -0.003338870265591026,
  -0.007076572644834035,
  -0.007297117722968859,
  -0.004202311752470732,
  0.0005670279822200584,
  0.004671884492241211,
  0.006358956294929912,
  0.0050027057359861805,
  0.0014835362239415469,
  -0.00242303686607297,
  -0.0049356366854077915,
  -0.005012297919427622,
  -0.002791259440128505,
  0.0005231804097366652,
  0.0033382934888644637,
  0.004424565143332162,
  0.0034191158628017002,
  0.0009288534512859507,
  -0.0017968750303495235,
  -0.00349213932202487,
  -0.0034663343186870565,
  -0.0018712159926710548,
  0.0004483385459557223,
  0.0023911818171073345,
  0.003108295241865667,
  0.0023656798812264307,
  0.0006062461832660776,
  -0.0013020034097059286,
  -0.0024907508243181197,
  -0.002481625904329538,
  -0.001365883561998931,
  0.0002943915455580339,
  0.0017522170580888021,
  0.002402762151678906,
  0.0020039654613486636,
  0.0007227737854041841,
  -0.0009766780804816016,
  -0.0024787484186230523,
  -0.003101442224674509,
  -0.001989226818353579,
  0.0021615767025715614,
  0.011545423061129954,
  -0.006715585659826064
};

/*

FIR filter designed with
http://t-filter.appspot.com

sampling frequency: 12000 Hz

* 0 Hz - 1300 Hz
  gain = 1
  desired ripple = 0.1 dB
  actual ripple = 0.07121128479256489 dB

* 1500 Hz - 6000 Hz
  gain = 0
  desired attenuation = -30 dB
  actual attenuation = -30.302182963886136 dB

*/

//Overshoot compensation filter
#define FILTER_TAP_NUM4 111

static double filter_taps4[FILTER_TAP_NUM4] = {
  -0.007036453516642829,
  -0.00206837793772266,
  0.011226050429157737,
  -0.0015097223906754222,
  0.002511903585391654,
  -0.0036543097417472002,
  -0.0020852143337153728,
  -0.00335593308799048,
  -0.0005218449821120818,
  0.001201988443143388,
  0.0034627014376199966,
  0.0034225783185927628,
  0.0019343708100654114,
  -0.0010531112574275032,
  -0.003619859646111145,
  -0.004574065783053314,
  -0.002998094378122271,
  0.00036739354015273047,
  0.003934292106589088,
  0.005691314240267715,
  0.00447239589251687,
  0.0006049515852284507,
  -0.0040224837936698125,
  -0.006926214943199283,
  -0.0062909328459479375,
  -0.0020625023669488497,
  0.003802006280576388,
  0.008212612432925193,
  0.008549579243017231,
  0.004134553148729742,
  -0.0031153771064929094,
  -0.009493687939371012,
  -0.011340117631449277,
  -0.007050597842301933,
  0.0017483476154451182,
  0.010714326283270093,
  0.0148604047608219,
  0.011205031452917643,
  0.0006747854737243654,
  -0.011809035861386473,
  -0.019558859863188914,
  -0.017419808145495756,
  -0.004928656776096008,
  0.012732682058658632,
  0.0265628333035468,
  0.027879419710295953,
  0.01308393890134592,
  -0.013429798587377115,
  -0.03975358162347159,
  -0.050612925104178454,
  -0.033834125510477764,
  0.013868188004925997,
  0.08400430287042726,
  0.15833179805046846,
  0.21488826586421103,
  0.23598612619519782,
  0.21488826586421103,
  0.15833179805046846,
  0.08400430287042726,
  0.013868188004925997,
  -0.033834125510477764,
  -0.050612925104178454,
  -0.03975358162347159,
  -0.013429798587377115,
  0.01308393890134592,
  0.027879419710295953,
  0.0265628333035468,
  0.012732682058658632,
  -0.004928656776096008,
  -0.017419808145495756,
  -0.019558859863188914,
  -0.011809035861386473,
  0.0006747854737243654,
  0.011205031452917643,
  0.0148604047608219,
  0.010714326283270093,
  0.0017483476154451182,
  -0.007050597842301933,
  -0.011340117631449277,
  -0.009493687939371012,
  -0.0031153771064929094,
  0.004134553148729742,
  0.008549579243017231,
  0.008212612432925193,
  0.003802006280576388,
  -0.0020625023669488497,
  -0.0062909328459479375,
  -0.006926214943199283,
  -0.0040224837936698125,
  0.0006049515852284507,
  0.00447239589251687,
  0.005691314240267715,
  0.003934292106589088,
  0.00036739354015273047,
  -0.002998094378122271,
  -0.004574065783053314,
  -0.003619859646111145,
  -0.0010531112574275032,
  0.0019343708100654114,
  0.0034225783185927628,
  0.0034627014376199966,
  0.001201988443143388,
  -0.0005218449821120818,
  -0.00335593308799048,
  -0.0020852143337153728,
  -0.0036543097417472002,
  0.002511903585391654,
  -0.0015097223906754222,
  0.011226050429157737,
  -0.00206837793772266,
  -0.007036453516642829
};


/*

FIR filter designed with
http://t-filter.appspot.com

sampling frequency: 24000 Hz

* 0 Hz - 3000 Hz
  gain = 1
  desired ripple = 0.1 dB
  actual ripple = 0.06231551021947057 dB

* 4000 Hz - 12000 Hz
  gain = 0
  desired attenuation = -50 dB
  actual attenuation = -51.46122489057956 dB

*/

//24kHz interpolation filter
#define FILTER_TAP_NUM5 65

static double filter_taps5[FILTER_TAP_NUM5] = {
  -0.0013173876031607559,
  0.0005788264371976509,
  0.0017185852439447818,
  0.0022733713829381644,
  0.0012309547041250274,
  -0.0011821682785836001,
  -0.003254297829717156,
  -0.002931233763252596,
  0.00029231728974131444,
  0.004350740466436454,
  0.005729471247074512,
  0.0023131390209504827,
  -0.004220495614255366,
  -0.00883540641934753,
  -0.006799409932793324,
  0.001913137625705728,
  0.011307513460280194,
  0.013145494071277252,
  0.003726758167383277,
  -0.011607404689070601,
  -0.0208033009918626,
  -0.013929034571594518,
  0.007529071535807147,
  0.028775061253028617,
  0.03067476392737832,
  0.004853757824792369,
  -0.035793724001247265,
  -0.060480904913364726,
  -0.03818696359779491,
  0.04061659558687397,
  0.15289568276423696,
  0.2517109747715172,
  0.29099818458682786,
  0.2517109747715172,
  0.15289568276423696,
  0.04061659558687397,
  -0.03818696359779491,
  -0.060480904913364726,
  -0.035793724001247265,
  0.004853757824792369,
  0.03067476392737832,
  0.028775061253028617,
  0.007529071535807147,
  -0.013929034571594518,
  -0.0208033009918626,
  -0.011607404689070601,
  0.003726758167383277,
  0.013145494071277252,
  0.011307513460280194,
  0.001913137625705728,
  -0.006799409932793324,
  -0.00883540641934753,
  -0.004220495614255366,
  0.0023131390209504827,
  0.005729471247074512,
  0.004350740466436454,
  0.00029231728974131444,
  -0.002931233763252596,
  -0.003254297829717156,
  -0.0011821682785836001,
  0.0012309547041250274,
  0.0022733713829381644,
  0.0017185852439447818,
  0.0005788264371976509,
  -0.0013173876031607559
};

/*

FIR filter designed with
http://t-filter.appspot.com

sampling frequency: 48000 Hz

* 0 Hz - 3000 Hz
  gain = 1
  desired ripple = 0.1 dB
  actual ripple = 0.06968776049604875 dB

* 10000 Hz - 24000 Hz
  gain = 0
  desired attenuation = -100 dB
  actual attenuation = -100.49002716897692 dB

*/

//48kHz interpolation filter
#define FILTER_TAP_NUM6 29

static double filter_taps6[FILTER_TAP_NUM6] = {
  0.0001652119290795493,
  0.0008647010362964472,
  0.0024439261334408395,
  0.004519658039670835,
  0.005275920631280223,
  0.0017726994264134213,
  -0.00794619793877435,
  -0.02159036354293683,
  -0.030632426803103133,
  -0.02238455186257405,
  0.01327789915128164,
  0.07577583783916769,
  0.14994733502316487,
  0.2105468858540559,
  0.23395584878178302,
  0.2105468858540559,
  0.14994733502316487,
  0.07577583783916769,
  0.01327789915128164,
  -0.02238455186257405,
  -0.030632426803103133,
  -0.02159036354293683,
  -0.00794619793877435,
  0.0017726994264134213,
  0.005275920631280223,
  0.004519658039670835,
  0.0024439261334408395,
  0.0008647010362964472,
  0.0001652119290795493
};

#endif	/* _TRANSMITTERFILTER_H_ */
